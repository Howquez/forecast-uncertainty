{% extends "global/Page.html" %}
{% load otree static %}

{% block title %}
Binarized Scoring Rule
{% endblock %}

{% block styles %}
{% endblock %}

{% block scripts %}
<script src="{% static 'BSR/js/bsr_decision.js' %}"></script>

    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>
    <script src="https://code.highcharts.com/highcharts-more.js"></script>
    <script src="{% static 'BSR/js/weather_viz.js' %}"></script>
{% endblock %}

{% block content %}

<div class="card ">
    <div class="card-header">
        <ul class="nav nav-tabs card-header-tabs pull-right"  id="myTab" role="tablist">
            <li class="nav-item">
                <a class="nav-link active" id="limits_tab" data-toggle="tab" href="#limits" role="tab" aria-controls="limits" aria-selected="true">Schritt 1</a>
            </li>
            <li class="nav-item">
                <a class="nav-link disabled" id="choice_tab" data-toggle="tab" href="#choice" role="tab" aria-controls="choice" aria-selected="false">Schritt 2</a>
            </li>
            <li class="nav-item">
                <a class="nav-link disabled" id="viz_tab" data-toggle="tab" href="#viz" role="tab" aria-controls="viz" aria-selected="false">Veranschaulichung</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="weather_tab" data-toggle="tab" href="#weather" role="tab" aria-controls="weather" aria-selected="false">Wetterbericht</a>
            </li>
        </ul>
    </div>

    <div class="card-body">
        <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade show active" id="limits" role="tabpanel" aria-labelledby="limits_tab">
                {% formfield player.minTemp %}
                {% formfield player.maxTemp %}
                <button type="button" onclick="validation();" id="limits_validation" class="btn-outline-primary btn">Prüfen</button>
                <button type="button" onclick="revision();" id="limits_revision" class="btn-outline-primary btn" style="display:none">Entscheidung ändern</button>
            </div>

            <div class="tab-pane fade" id="choice" role="tabpanel" aria-labelledby="choice_tab">
                <div id="table-wrapper">
                </div>
                <button type="button" onclick="calcChance2win();" class="btn-outline-primary btn">Gewinnwahrscheinlichkeit berechnen</button>
                <button type="submit" class="btn-outline-primary btn">Submit</button>
            </div>

            <div class="tab-pane fade" id="viz" role="tabpanel" aria-labelledby="viz_tab">
                <figure class="highcharts-figure">
                    <div id="container"></div>
                    <p class="highcharts-description"></p>
                </figure>
            </div>

            <div class="tab-pane fade" id="weather" role="tabpanel" aria-labelledby="weather_tab">
                <figure class="highcharts-figure">
                    <div id="weather_viz"></div>
                </figure>
            </div>
        </div>
    </div>
</div>


<br><br>

<!-- Hidden Fields -->
    <div id="hidden_fields"></div>


{% endblock %}
